# ç¥ç»ç½‘ç»œæ¨¡æ¿ç³»ç»Ÿ

## ğŸ“š æ¦‚è¿°

æ¨¡å—åŒ–çš„ç¥ç»ç½‘ç»œæ¶æ„æ¨¡æ¿ç³»ç»Ÿï¼Œè®©ä½ å¯ä»¥è½»æ¾æ·»åŠ ã€ç®¡ç†å’Œä½¿ç”¨é¢„å®šä¹‰çš„ç½‘ç»œæ¶æ„ã€‚

## ğŸ¯ ç‰¹æ€§

- âœ… **æ¨¡å—åŒ–è®¾è®¡** - æ¯ä¸ªæ¨¡æ¿éƒ½æ˜¯ç‹¬ç«‹çš„JSONé…ç½®æ–‡ä»¶
- âœ… **æ˜“äºæ‰©å±•** - åªéœ€æ·»åŠ æ–°çš„JSONæ–‡ä»¶å³å¯åˆ›å»ºæ–°æ¨¡æ¿
- âœ… **åˆ†ç±»ç®¡ç†** - æŒ‰CNNã€MLPã€Autoencoderç­‰åˆ†ç±»ç»„ç»‡
- âœ… **éš¾åº¦æ ‡è®°** - beginnerã€intermediateã€advancedä¸‰ä¸ªéš¾åº¦ç­‰çº§
- âœ… **æœç´¢ç­›é€‰** - æ”¯æŒæŒ‰åˆ†ç±»ã€éš¾åº¦ã€å…³é”®è¯æœç´¢
- âœ… **ä¸€é”®åŠ è½½** - åœ¨æ¶æ„è®¾è®¡å·¥ä½œå°ä¸­ä¸€é”®åŠ è½½å®Œæ•´ç½‘ç»œ

## ğŸ“‚ ç›®å½•ç»“æ„

```
templates/
â”œâ”€â”€ __init__.py           # æ¨¡å—åˆå§‹åŒ–
â”œâ”€â”€ template_loader.py    # æ¨¡æ¿åŠ è½½å™¨
â”œâ”€â”€ README.md            # æœ¬æ–‡æ¡£
â””â”€â”€ configs/             # æ¨¡æ¿é…ç½®æ–‡ä»¶ç›®å½•
    â”œâ”€â”€ mnist_cnn.json
    â”œâ”€â”€ cifar_cnn.json
    â”œâ”€â”€ simple_mlp.json
    â”œâ”€â”€ lenet.json
    â”œâ”€â”€ alexnet_like.json
    â”œâ”€â”€ vgg_like.json
    â”œâ”€â”€ autoencoder.json
    â””â”€â”€ ... (æ›´å¤šæ¨¡æ¿)
```

## ğŸš€ å·²æœ‰æ¨¡æ¿ (å…±22ä¸ª)

### ğŸ–¼ï¸ CNN ç±» (11ä¸ª) - å·ç§¯ç¥ç»ç½‘ç»œ
| æ¨¡æ¿ | éš¾åº¦ | è¾“å…¥å½¢çŠ¶ | å±‚æ•° | æè¿° |
|------|------|---------|------|------|
| ğŸ“± **MNIST CNN** | ğŸŸ¢ å…¥é—¨ | `(1, 1, 28, 28)` | 13 | ç»å…¸MNISTæ‰‹å†™æ•°å­—è¯†åˆ«ç½‘ç»œ |
| ğŸ–¼ï¸ **CIFAR-10 CNN** | ğŸŸ¡ ä¸­çº§ | `(1, 3, 32, 32)` | 12 | CIFARå½©è‰²å›¾åƒåˆ†ç±»ç½‘ç»œ |
| ğŸ“œ **LeNet-5** | ğŸŸ¢ å…¥é—¨ | `(1, 1, 32, 32)` | 12 | æœ€æ—©çš„CNNæ¶æ„ä¹‹ä¸€ |
| ğŸ† **AlexNet-like** | ğŸŸ¡ ä¸­çº§ | `(1, 3, 224, 224)` | 21 | ImageNetå† å†›ç½‘ç»œç®€åŒ–ç‰ˆ |
| ğŸ›ï¸ **VGG-like** | ğŸŸ¡ ä¸­çº§ | `(1, 3, 224, 224)` | 15 | ä½¿ç”¨å°å·ç§¯æ ¸å †å çš„æ·±åº¦ç½‘ç»œ |
| ğŸ£ **å¾®å‹CNN** | ğŸŸ¢ å…¥é—¨ | `(1, 1, 28, 28)` | 7 | è¶…è½»é‡çº§å¿«é€Ÿå®éªŒç½‘ç»œ |
| ğŸ“ **å®½å‹CNN** | ğŸŸ¡ ä¸­çº§ | `(1, 3, 32, 32)` | 16 | é«˜é€šé“æ•°é«˜å®¹é‡ç½‘ç»œ |
| ğŸ”— **æ®‹å·®ç½‘ç»œå—** | ğŸ”´ é«˜çº§ | `(1, 3, 32, 32)` | 11 | åŒ…å«æ®‹å·®è¿æ¥çš„ç½‘ç»œ |
| ğŸ“± **MobileNeté£æ ¼** | ğŸŸ¡ ä¸­çº§ | `(1, 3, 224, 224)` | 12 | è½»é‡çº§ç§»åŠ¨ç«¯ä¼˜åŒ–ç½‘ç»œ |
| ğŸ¯ **U-Netç¼–ç å™¨** | ğŸ”´ é«˜çº§ | `(1, 1, 256, 256)` | 14 | U-Netå›¾åƒåˆ†å‰²ç¼–ç å™¨ |
| âš¡ **EfficientNeté£æ ¼** | ğŸ”´ é«˜çº§ | `(1, 3, 224, 224)` | 14 | é«˜æ•ˆçš„å¤åˆç¼©æ”¾æ¶æ„ |

### ğŸ¤– Transformer ç±» (5ä¸ª) - æ³¨æ„åŠ›æœºåˆ¶
| æ¨¡æ¿ | éš¾åº¦ | è¾“å…¥å½¢çŠ¶ | å±‚æ•° | æè¿° |
|------|------|---------|------|------|
| ğŸ¤– **Transformerç¼–ç å™¨** | ğŸ”´ é«˜çº§ | `(1, 512)` | 11 | ç®€åŒ–çš„Transformerç¼–ç å™¨ |
| ğŸ‘ï¸ **Vision Transformer** | ğŸ”´ é«˜çº§ | `(1, 3, 224, 224)` | 12 | ViTå›¾åƒåˆ†å—+Transformer |
| ğŸ“– **BERTé£æ ¼** | ğŸ”´ é«˜çº§ | `(1, 512)` | 13 | åŒå‘Transformerç¼–ç å™¨ |
| âœï¸ **GPTé£æ ¼** | ğŸ”´ é«˜çº§ | `(1, 1024)` | 10 | è‡ªå›å½’Transformerè§£ç å™¨ |
| ğŸ”„ **Seq2Seq Transformer** | ğŸ”´ é«˜çº§ | `(1, 512)` | 15 | å®Œæ•´ç¼–ç å™¨-è§£ç å™¨æ¶æ„ |

### ğŸ§  MLP ç±» (2ä¸ª) - å…¨è¿æ¥ç½‘ç»œ
| æ¨¡æ¿ | éš¾åº¦ | è¾“å…¥å½¢çŠ¶ | å±‚æ•° | æè¿° |
|------|------|---------|------|------|
| ğŸ§  **ç®€å•MLP** | ğŸŸ¢ å…¥é—¨ | `(1, 784)` | 7 | åŸºç¡€å¤šå±‚æ„ŸçŸ¥æœº |
| ğŸ§¬ **æ·±åº¦MLP** | ğŸŸ¡ ä¸­çº§ | `(1, 512)` | 13 | æ›´æ·±çš„å…¨è¿æ¥ç½‘ç»œ |

### ğŸ”„ Autoencoder ç±» (2ä¸ª) - è‡ªç¼–ç å™¨
| æ¨¡æ¿ | éš¾åº¦ | è¾“å…¥å½¢çŠ¶ | å±‚æ•° | æè¿° |
|------|------|---------|------|------|
| ğŸ”„ **è‡ªç¼–ç å™¨** | ğŸŸ¡ ä¸­çº§ | `(1, 784)` | 11 | åŸºç¡€è‡ªç¼–ç å™¨ï¼Œç‰¹å¾å­¦ä¹  |
| ğŸ” **å·ç§¯è‡ªç¼–ç å™¨** | ğŸ”´ é«˜çº§ | `(1, 1, 28, 28)` | 6 | ç”¨äºå›¾åƒçš„å·ç§¯è‡ªç¼–ç å™¨ |

### ğŸ¨ GAN ç±» (2ä¸ª) - ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ
| æ¨¡æ¿ | éš¾åº¦ | è¾“å…¥å½¢çŠ¶ | å±‚æ•° | æè¿° |
|------|------|---------|------|------|
| ğŸ¨ **GANç”Ÿæˆå™¨** | ğŸ”´ é«˜çº§ | `(1, 100)` | 8 | ä»å™ªå£°ç”Ÿæˆå›¾åƒ |
| ğŸ” **GANåˆ¤åˆ«å™¨** | ğŸ”´ é«˜çº§ | `(1, 3, 32, 32)` | 10 | åŒºåˆ†çœŸå‡å›¾åƒ |

### ğŸ“Š ç»Ÿè®¡æ€»è§ˆ
- **æ€»æ¨¡æ¿æ•°**: 22 ä¸ª
- **åˆ†ç±»æ•°**: 5 å¤§ç±»
- **éš¾åº¦åˆ†å¸ƒ**: 
  - ğŸŸ¢ å…¥é—¨: 4 ä¸ª
  - ğŸŸ¡ ä¸­çº§: 7 ä¸ª
  - ğŸ”´ é«˜çº§: 11 ä¸ª

## ğŸ“ å¦‚ä½•æ·»åŠ æ–°æ¨¡æ¿

### æ­¥éª¤ 1: åˆ›å»ºJSONé…ç½®æ–‡ä»¶

åœ¨ `templates/configs/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ JSON æ–‡ä»¶ï¼Œä¾‹å¦‚ `my_network.json`:

```json
{
  "id": "my_network",
  "name": "æˆ‘çš„ç½‘ç»œ",
  "description": "è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç½‘ç»œæ¶æ„",
  "category": "CNN",
  "icon": "ğŸ¨",
  "difficulty": "intermediate",
  "tags": ["è‡ªå®šä¹‰", "å®éªŒæ€§", "é«˜æ€§èƒ½"],
  "use_cases": ["å›¾åƒåˆ†ç±»", "ç‰¹å¾æå–"],
  "input_shape": [1, 3, 224, 224],
  "layers": [
    {
      "layer_type": "Conv2d",
      "name": "conv1",
      "params": {
        "in_channels": 3,
        "out_channels": 64,
        "kernel_size": 3,
        "stride": 1,
        "padding": 1
      }
    },
    {
      "layer_type": "ReLU",
      "name": "relu1",
      "params": {}
    }
    // ... æ›´å¤šå±‚
  ]
}
```

### æ­¥éª¤ 2: æ¨¡æ¿å­—æ®µè¯´æ˜

#### å¿…å¡«å­—æ®µ

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `id` | string | å”¯ä¸€æ ‡è¯†ç¬¦ | `"my_network"` |
| `name` | string | æ˜¾ç¤ºåç§° | `"æˆ‘çš„ç½‘ç»œ"` |
| `description` | string | æè¿°ä¿¡æ¯ | `"é€‚ç”¨äº..."` |
| `category` | string | åˆ†ç±» | `"CNN"`, `"MLP"`, `"Autoencoder"` |
| `input_shape` | array | è¾“å…¥å½¢çŠ¶ | `[1, 3, 224, 224]` |
| `layers` | array | å±‚é…ç½®åˆ—è¡¨ | è§ä¸‹æ–¹ |

#### å¯é€‰å­—æ®µ

| å­—æ®µ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `icon` | string | `"ğŸ§ "` | æ˜¾ç¤ºå›¾æ ‡ |
| `difficulty` | string | `"beginner"` | éš¾åº¦ç­‰çº§ |
| `tags` | array | `[]` | æ ‡ç­¾åˆ—è¡¨ |
| `use_cases` | array | `[]` | ä½¿ç”¨åœºæ™¯ |

#### éš¾åº¦ç­‰çº§

- `beginner` - å…¥é—¨çº§ (ğŸŸ¢ ç»¿è‰²)
- `intermediate` - ä¸­çº§ (ğŸŸ¡ é»„è‰²)
- `advanced` - é«˜çº§ (ğŸ”´ çº¢è‰²)

### æ­¥éª¤ 3: å±‚é…ç½®æ ¼å¼

æ¯ä¸ªå±‚å¿…é¡»åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

```json
{
  "layer_type": "å±‚ç±»å‹",
  "name": "å±‚åç§°",
  "params": {
    // å±‚å‚æ•°ï¼ˆæ ¹æ®å±‚ç±»å‹ä¸åŒè€Œä¸åŒï¼‰
  }
}
```

#### æ”¯æŒçš„å±‚ç±»å‹åŠå‚æ•°

##### Conv2d
```json
{
  "layer_type": "Conv2d",
  "name": "conv1",
  "params": {
    "in_channels": 3,
    "out_channels": 64,
    "kernel_size": 3,
    "stride": 1,        // å¯é€‰ï¼Œé»˜è®¤1
    "padding": 1        // å¯é€‰ï¼Œé»˜è®¤0
  }
}
```

##### Linear
```json
{
  "layer_type": "Linear",
  "name": "fc1",
  "params": {
    "in_features": 512,
    "out_features": 256
  }
}
```

##### ReLU
```json
{
  "layer_type": "ReLU",
  "name": "relu1",
  "params": {}
}
```

##### MaxPool2d
```json
{
  "layer_type": "MaxPool2d",
  "name": "pool1",
  "params": {
    "kernel_size": 2,
    "stride": 2         // å¯é€‰ï¼Œé»˜è®¤ç­‰äºkernel_size
  }
}
```

##### Flatten
```json
{
  "layer_type": "Flatten",
  "name": "flatten",
  "params": {}
}
```

##### BatchNorm2d
```json
{
  "layer_type": "BatchNorm2d",
  "name": "bn1",
  "params": {
    "num_features": 64
  }
}
```

##### Dropout
```json
{
  "layer_type": "Dropout",
  "name": "dropout1",
  "params": {
    "p": 0.5           // ä¸¢å¼ƒç‡
  }
}
```

### æ­¥éª¤ 4: éªŒè¯æ¨¡æ¿

åˆ›å»ºæ¨¡æ¿åï¼Œè¿è¡ŒéªŒè¯è„šæœ¬ï¼š

```bash
python -c "
from templates.template_loader import TemplateLoader
loader = TemplateLoader()
template = loader.get_template('my_network')
if template:
    print(f'âœ… æ¨¡æ¿åŠ è½½æˆåŠŸ: {template.name}')
    print(f'   åˆ†ç±»: {template.category}')
    print(f'   éš¾åº¦: {template.difficulty}')
    print(f'   å±‚æ•°: {len(template.layers)}')
else:
    print('âŒ æ¨¡æ¿åŠ è½½å¤±è´¥')
"
```

### æ­¥éª¤ 5: ä½¿ç”¨æ¨¡æ¿

1. åˆ·æ–° Streamlit åº”ç”¨
2. è¿›å…¥"æ¶æ„è®¾è®¡å·¥ä½œå°"
3. ç‚¹å‡»"ğŸš€ ç¥ç»ç½‘ç»œæ¨¡æ¿åº“"
4. æ‰¾åˆ°ä½ çš„æ–°æ¨¡æ¿å¹¶ç‚¹å‡»åŠ è½½

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å‘½åè§„èŒƒ
- **æ–‡ä»¶å**: å°å†™+ä¸‹åˆ’çº¿ï¼Œå¦‚ `my_network.json`
- **ID**: ä¸æ–‡ä»¶åä¸€è‡´ï¼Œå¦‚ `"my_network"`
- **å±‚åç§°**: ç®€æ´æ¸…æ™°ï¼Œå¦‚ `conv1`, `fc1`, `relu1`

### 2. è¾“å…¥å½¢çŠ¶
- **å›¾åƒè¾“å…¥**: `[batch, channels, height, width]`
  - ç°åº¦å›¾: `[1, 1, 28, 28]`
  - RGBå›¾: `[1, 3, 224, 224]`
- **å‘é‡è¾“å…¥**: `[batch, features]`
  - ç¤ºä¾‹: `[1, 784]`

### 3. å±‚é¡ºåº
ç¡®ä¿å±‚çš„è¾“å…¥è¾“å‡ºå½¢çŠ¶åŒ¹é…ï¼š
```
Conv2d(3, 64, 3)     # è¾“å‡º: (1, 64, H, W)
â†“
BatchNorm2d(64)      # é€šé“æ•°å¿…é¡»åŒ¹é…
â†“
ReLU()
â†“
MaxPool2d(2, 2)
â†“
Flatten()            # è½¬ä¸º2D
â†“
Linear(?, 256)       # in_featureséœ€è¦è®¡ç®—
```

### 4. ç‰¹å¾æ•°è®¡ç®—
åœ¨ Flatten åæ¥ Linear æ—¶ï¼Œéœ€è¦æ­£ç¡®è®¡ç®—ç‰¹å¾æ•°ï¼š

```
è¾“å…¥: (1, 128, 16, 16)
Flattenå: (1, 128*16*16) = (1, 32768)
Linear: in_features=32768
```

ğŸ’¡ **æç¤º**: ä½¿ç”¨æ¶æ„è®¾è®¡å·¥ä½œå°çš„"ä¸€é”®ä¿®å¤"åŠŸèƒ½å¯ä»¥è‡ªåŠ¨è®¡ç®—ï¼

### 5. æ ‡ç­¾å’Œä½¿ç”¨åœºæ™¯
- **æ ‡ç­¾**: 3-5ä¸ªå…³é”®è¯ï¼Œä¾¿äºæœç´¢
- **ä½¿ç”¨åœºæ™¯**: 2-4ä¸ªå…·ä½“åº”ç”¨åœºæ™¯

## ğŸ”§ é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰åˆ†ç±»

å¦‚æœç°æœ‰åˆ†ç±»ä¸å¤Ÿç”¨ï¼Œå¯ä»¥åˆ›å»ºæ–°åˆ†ç±»ï¼š

```json
{
  "category": "GAN",
  "name": "ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ",
  ...
}
```

ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«æ–°åˆ†ç±»å¹¶åœ¨ç•Œé¢ä¸­æ˜¾ç¤ºã€‚

### æ¨¡æ¿ç»§æ‰¿ï¼ˆæœªæ¥åŠŸèƒ½ï¼‰

è®¡åˆ’æ”¯æŒæ¨¡æ¿ç»§æ‰¿ï¼Œå¯ä»¥åŸºäºç°æœ‰æ¨¡æ¿åˆ›å»ºå˜ä½“ï¼š

```json
{
  "extends": "mnist_cnn",
  "modifications": [
    // ä¿®æ”¹çš„å±‚
  ]
}
```

## ğŸ“Š æ¨¡æ¿ç»Ÿè®¡

æŸ¥çœ‹æ‰€æœ‰æ¨¡æ¿çš„ç»Ÿè®¡ä¿¡æ¯ï¼š

```python
from templates.template_loader import TemplateLoader

loader = TemplateLoader()

print(f"æ€»æ¨¡æ¿æ•°: {len(loader.get_all_templates())}")
print(f"åˆ†ç±»: {loader.get_categories()}")

for category in loader.get_categories():
    templates = loader.get_templates_by_category(category)
    print(f"\n{category}: {len(templates)} ä¸ª")
    for t in templates:
        print(f"  - {t.icon} {t.name} ({t.difficulty})")
```

## ğŸ› æ•…éšœæ’é™¤

### æ¨¡æ¿ä¸æ˜¾ç¤º
1. æ£€æŸ¥JSONè¯­æ³•æ˜¯å¦æ­£ç¡®
2. ç¡®ä¿æ–‡ä»¶ä½äº `templates/configs/` ç›®å½•
3. æŸ¥çœ‹ Streamlit æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯

### å±‚å‚æ•°é”™è¯¯
1. å‚è€ƒä¸Šé¢çš„"å±‚é…ç½®æ ¼å¼"éƒ¨åˆ†
2. ç¡®ä¿å¿…å¡«å‚æ•°éƒ½å·²æä¾›
3. æ£€æŸ¥æ•°å€¼ç±»å‹æ˜¯å¦æ­£ç¡®

### å½¢çŠ¶ä¸åŒ¹é…
1. ä½¿ç”¨"ä¸€é”®ä¿®å¤"åŠŸèƒ½è‡ªåŠ¨ä¿®æ­£
2. æ‰‹åŠ¨æ£€æŸ¥æ¯å±‚çš„è¾“å…¥è¾“å‡ºå½¢çŠ¶
3. ç‰¹åˆ«æ³¨æ„ Flatten å‰åçš„å½¢çŠ¶å˜åŒ–

## ğŸ“ ç¤ºä¾‹æ¨¡æ¿

å®Œæ•´çš„ç¤ºä¾‹æ¨¡æ¿è¯·æŸ¥çœ‹ `configs/` ç›®å½•ä¸­çš„ç°æœ‰æ¨¡æ¿æ–‡ä»¶ã€‚

æ¨èå­¦ä¹ é¡ºåºï¼š
1. `simple_mlp.json` - æœ€ç®€å•çš„MLP
2. `tiny_cnn.json` - æœ€ç®€å•çš„CNN
3. `mnist_cnn.json` - æ ‡å‡†CNNæ¶æ„
4. `cifar_cnn.json` - ä¸­ç­‰å¤æ‚åº¦
5. `vgg_like.json` - æ·±åº¦æ¶æ„

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®æ–°çš„æ¨¡æ¿ï¼è¯·ç¡®ä¿ï¼š
- JSONæ ¼å¼æ­£ç¡®
- å±‚é…ç½®å®Œæ•´
- å·²æµ‹è¯•å¯ä»¥æ­£å¸¸åŠ è½½
- åŒ…å«è¯¦ç»†çš„æè¿°å’Œæ ‡ç­¾

## ğŸ“„ è®¸å¯

ä¸ä¸»é¡¹ç›®ç›¸åŒçš„è®¸å¯è¯ã€‚
